import { setCompodocJson } from "@storybook/addon-docs/angular";
import {
  INITIAL_VIEWPORTS,
  MINIMAL_VIEWPORTS,
} from "@storybook/addon-viewport";
import { IONIC_VIEWPORTS } from "src/stories/storybook.helpers";
// Generated by the docs:json / storybook npm run commands:
import compodocJson from "../documentation.json";

setCompodocJson(compodocJson);

/** @type {import("@storybook/angular").Parameters} */
export const parameters = {
  actions: { argTypesRegex: "^on[A-Z].*" },
  controls: {
    matchers: {
      color: /(background|color)$/i,
      date: /Date$/,
    },
  },

  docs: {
    // Docs: https://storybook.js.org/docs/angular/writing-docs/docs-page#inline-stories-vs-iframe-stories
    inlineStories: true,
  },

  // Add Ionic's theme background to the list of available backgrounds, and set it as the default.
  // (This works better than the default "light", for this dark-background app.)
  //
  // Docs: https://storybook.js.org/docs/angular/essentials/backgrounds#configuration
  backgrounds: {
    default: "Ionic theme",
    values: [
      { name: "Ionic theme", value: "var(--ion-background-color)" },
      { name: "light", value: "#F8F8F8" },
      { name: "dark", value: "#333333" },
    ],
  },

  // Docs: https://storybook.js.org/docs/angular/essentials/viewport#configuration
  viewport: {
    defaultViewport: "ionic-sm",
    viewports: {
      ...IONIC_VIEWPORTS,
      ...MINIMAL_VIEWPORTS,
      ...INITIAL_VIEWPORTS,
    },
  },
};
